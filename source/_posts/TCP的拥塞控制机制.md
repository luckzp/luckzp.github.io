---
title: TCP的拥塞控制机制
urlname: xycuz2
date: 2020-09-12 12:19:24 +0800
tags: []
categories: []
---

---

## layout: posttitle: "TCP 的拥塞控制机制"

date: 2017-11-13 18:58
comments: true
reward: true
tags:

- 计算机网络

拥塞控制（congestion control)是 TCP 协议的一项重要功能，TCP 的拥塞控制机制是从端到端的角度，推测网络是否发生拥塞，如果推断网络发生拥塞，则立即将数据发送速率降下来，以便缓解网络拥塞。
TCP 的拥塞控制算法包括了慢启动（slow start）、拥塞避免（congestion avoidance）、快速重传（fast retransmit）和快速恢复（fast recovery）四部分。

**慢启动（slow start）和拥塞避免（congestion avoidance）控制过程**：

-[1]. TCP 连接初始化，将拥塞窗口 cwind 设置为 1 个报文段，即 cwind=1；

-[2]. 执行慢开始算法，cwind 按指数规律增长，直到 cwind == ssthresh 时，开始执行拥塞避免算法，cwind 按线性规律增长；

-[3]. 当网络发生拥塞，把 ssthresh 值更新为拥塞前 ssthresh 值的一半，cwind 重新设置为 1，再按照 [2] 执行。

![](http://img.blog.csdn.net/20150925124844736#alt=%E6%85%A2%E5%90%AF%E5%8A%A8%E5%92%8C%E6%8B%A5%E5%A1%9E%E9%81%BF%E5%85%8D)

**例题：**

设某 TCP 的拥塞窗口的慢启动门限值初始为 8(单位为报文段，且最大报文段长度 1KB)，当拥塞窗口上升到 12 时，网络会发生超时。按照以上给出的条件，第 12 次传输网拥塞窗口的大小为( )。

- A. 5
- B. 6
- C. 7
- D. 8

**解析：B**

在慢启动和拥塞避免算法中，拥塞窗口初始值为 1，窗口大小开始按指数增长。当拥塞窗口大于慢启动门限后，停止使用慢启动算法，改用拥塞避免算法。此时，慢启动的门限值初始为 8，当拥塞窗口增大到 8 时改用拥塞避免算法，窗口大小按线性增长，毎次增长 1 个报文段。当增加到 12 时，出现超时，重新设置门限值为 6(12 的一半)，拥塞窗口再重新设为 1，执行慢启动算法，到门限值为 6 时执行拥塞避免算法。按照上面的算法，拥塞窗口的变化为 1、2、4、8、9、10、11、12、1、2、4、6、7、8、9...，从该序列可以看出，第 12 次传输时拥塞窗口大小为 6。

**注意：**在以上的序列中，6 被加粗，原因是很多考生直接从 4 增加到 8，导致误选 D 选项。原因是拥塞窗口的大小是与门限值有关的，在慢开始算法中不能直接变化为大千门限值，所以 4 只能最多增加到 6，之后再执行拥塞避免算法。
