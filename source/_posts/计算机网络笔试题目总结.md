---
layout: post
title: "计算机网络笔试题目总结"
date: 2017-9-8 21:58
comments: true
reward: true
tags: 
	- 校招
---

### 1.OSI和TCP/IP的体系结构，以及各层协议

OSI分层 （7层）：物理层、数据链路层、网络层、传输层、会话层、表示层、应用层。
TCP/IP分层（4层）：网络接口层、 网际层、运输层、 应用层。

<!--more--> 

每一层的协议如下：
物理层：RJ45、CLOCK、IEEE802.3 （中继器，集线器）
数据链路：PPP、FR、HDLC、VLAN、MAC （网桥，交换机）
网络层：IP、ICMP、ARP、RARP、OSPF、IPX、RIP、IGRP、 （路由器）
传输层：TCP、UDP、SPX
会话层：NFS、SQL、NETBIOS、RPC
表示层：JPEG、MPEG、ASII
应用层：FTP、DNS、Telnet、SMTP、HTTP、WWW、NFS
每一层的作用如下：
物理层：通过媒介传输比特,确定机械及电气规范（比特Bit）
数据链路层：将比特组装成帧和点到点的传递（帧Frame）
网络层：负责数据包从源到宿的传递和网际互连（包PackeT）
传输层：提供端到端的可靠报文传递和错误恢复（段Segment）
会话层：建立、管理和终止会话（会话协议数据单元SPDU）
表示层：对数据进行翻译、加密和压缩（表示协议数据单元PPDU）
应用层：允许访问OSI环境的手段（应用协议数据单元APDU）

### 2.TCP的三次握手与四次分手

#### 摘自于http://www.jellythink.com/archives/705

#### 三次握手是什么？

TCP是面向连接的，无论哪一方向另一方发送数据之前，都必须先在双方之间建立一条连接。在TCP/IP协议中，TCP协议提供可靠的连接服务，连接是通过三次握手进行初始化的。三次握手的目的是同步连接双方的序列号和确认号并交换 TCP窗口大小信息。这就是面试中经常会被问到的**TCP三次握手**。只是了解TCP三次握手的概念，对你获得一份工作是没有任何帮助的，你需要去了解TCP三次握手中的一些细节。先来看图说话。

![](http://ovuyz1070.bkt.clouddn.com/17-9-8/58296452.jpg)

多么清晰的一张图，当然了，也不是我画的，我也只是引用过来说明问题了。

1. 第一次握手：建立连接。客户端发送连接请求报文段，将`SYN`位置为1，`Sequence Number`为x；然后，客户端进入`SYN_SEND`状态，等待服务器的确认；
2. 第二次握手：服务器收到`SYN`报文段。服务器收到客户端的`SYN`报文段，需要对这个`SYN`报文段进行确认，设置`Acknowledgment Number`为x+1(`Sequence Number`+1)；同时，自己自己还要发送`SYN`请求信息，将`SYN`位置为1，`Sequence Number`为y；服务器端将上述所有信息放到一个报文段（即`SYN+ACK`报文段）中，一并发送给客户端，此时服务器进入`SYN_RECV`状态；
3. 第三次握手：客户端收到服务器的`SYN+ACK`报文段。然后将`Acknowledgment Number`设置为y+1，向服务器发送`ACK`报文段，这个报文段发送完毕以后，客户端和服务器端都进入`ESTABLISHED`状态，完成TCP三次握手。

完成了三次握手，客户端和服务器端就可以开始传送数据。以上就是TCP三次握手的总体介绍。

**为了加深理解，举个例子。**

**A和B之间建立了TCP连接，A向B发送报文段，其中序号字段seq=300，确认号字段ACK =101，数据部分包含7个字节，那么在B对该报文的确认报文段中（）。**

**A. seq=301, ACK=101  B. seq=301, ACK=108  C.seq=101, ACK =107  D .seq=101, ACK= 307**

**解析：**

A向B发送报文段，其中序号字段seq=300，确认号字段ACK =101。

A对B说：“我已经收到你第100个序列号了，下个序列号要从101开始。我现在给你要以300序列号开始，给7个字节数据。“

B这时应该对A说：”好的，我这就给你发送101的序列号，我这里收到了以300为起点，306为终点的数据了，我现在要307序列号了。“

所以B对该报文的确认报文段中 seq=101, ACK= 307. 选D.

#### 那四次分手呢？

当客户端和服务器通过三次握手建立了TCP连接以后，当数据传送完毕，肯定是要断开TCP连接的啊。那对于TCP的断开连接，这里就有了神秘的“四次分手”。

1. 第一次分手：主机1（可以使客户端，也可以是服务器端），设置`Sequence Number`和`Acknowledgment Number`，向主机2发送一个`FIN`报文段；此时，主机1进入`FIN_WAIT_1`状态；这表示主机1没有数据要发送给主机2了；

2. 第二次分手：主机2收到了主机1发送的`FIN`报文段，向主机1回一个`ACK`报文段，`Acknowledgment Number`为`Sequence Number`加1；主机1进入`FIN_WAIT_2`状态；主机2告诉主机1，我“同意”你的关闭请求；

3. 第三次分手：主机2向主机1发送`FIN`报文段，请求关闭连接，同时主机2进入`LAST_ACK`状态；

4. 第四次分手：主机1收到主机2发送的`FIN`报文段，向主机2发送`ACK`报文段，然后主机1进入`TIME_WAIT`状态；主机2收到主机1的`ACK`报文段以后，就关闭连接；此时，主机1等待2MSL后依然没有收到回复，则证明Server端已正常关闭，那好，主机1也可以关闭连接了。

   ​

### 3.子网划分

#### 现有两个 C 类网，202.203.204.0 ，把它平均分成 4 个子网，写出每个子网的起始、终结 IP 和子网掩码。

202.203.204.0 分成4 个平均的子网，这是个C类的网络 ，平均分成4个的话，也就是每个子网有64台机器。

2的2次方=4 ，所以需要借2个主机位表示 网络 ，等于是26位的子网掩码.

子网掩码: 202.203.204.192

子网号 **00** 202.203.204.1 ~ 202.203.204.63

子网号 **01** 202.203.204.64 ~ 202.203.204.127

子网号 **10** 202.203.204.128 ~ 202.203.204.191

子网号 **11** 202.203.204.192 ~ 202.203.204.254

### 4. IP地址分为哪几类？简单说一下各个分类

![](http://ovuyz1070.bkt.clouddn.com/17-9-8/84087885.jpg)

​                                       IPv6 -- 采用128bit，首部固定部分为40字节。