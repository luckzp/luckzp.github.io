---
title: 领域驱动设计（DDD）
urlname: igzdi1
date: 2020-09-12 12:20:09 +0800
tags: []
categories: []
---

---

## title: 领域驱动设计（DDD）date: 2020-02-03 22:07:32

tags:

### 1. 名词解释

- 领域：将业务根据不同范围细分，当细分到一定的程度后，不同业务会有不同范围，

在这个范围内解决业务问题就是领域。

- 实体：就是业务对象，具有业务行为，业务逻辑和唯一 ID。实体类通常采用充血模型，包含了实体的属性和实体相关的所有业务逻辑方法，跨多个实体的领域逻辑则在领域服务中实现。

- 值对象：是若干个属性的集合，没有 ID，不包含业务逻辑，可以被其他实体共享，采用贫血模型。**实体和值对象是微服务底层的最基础的对象，一起实现实体最基本的核心领域逻辑。**
  > 传统的数据建模是根据数据库范式设计的，每一个数据库表对应一个实体，每一个实体的属性值用单独

的一列来存储，一个实体主表会对应 N 个实体从表。值对象在数据库持久化做了简化了设计，它的数据库

设计大多采用非数据库范式，值对象的属性值和实体对象的属性值可以保存在不同表中。

- 聚合：是由业务和逻辑紧密关联的实体和值对象组合的，聚合是数据修改和持久化的

基本单元，每一个聚合对应一个仓储，实现数据的持久化。

- 聚合根：是实体，有实体的特点，具有全局唯一标识，是聚合的入口，聚合根与聚合根之间通

过 ID 关联的方式实现聚合之间的协同。

- 领域事件（Domain Event）：这种事件发生后通常会导致进一步的业务操作。

### 2. 分层

- 用户接口层：面向前端提供服务适配，面向资源层提供资源适配。这一层聚集了接口适配相关的功能。
- 应用层：实现服务组合和编排，适应业务流程快速变化的需求。这一层聚集了应用服务和事件相关的

功能。

- 领域层：实现领域的核心业务逻辑。这一层聚集了领域模型的聚合、聚合根、实体、值对象、领域服务和

事件等领域对象，以及它们组合所形成的业务能力。

- 基础层：贯穿所有层，为各层提供基础资源服务。这一层聚集了各种底层资源相关的服务和能力。

![](http://ww1.sinaimg.cn/large/aacc02d8ly1gbjk949oskj20qg0nfgqp.jpg#alt=DDD%E5%88%86%E5%B1%82.png)

![](http://ww1.sinaimg.cn/large/aacc02d8ly1gbjkbj1kmtj20r20jtafu.jpg#alt=%E4%BC%A0%E7%BB%9F%E5%88%86%E5%B1%82%E5%92%8CDDD%E5%88%86%E5%B1%82.png)

![](http://ww1.sinaimg.cn/large/aacc02d8ly1gbjkbndlalj20db0jc74p.jpg#alt=%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0.png)
